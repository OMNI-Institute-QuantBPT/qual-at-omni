{"title":"Project title","markdown":{"yaml":{"title":"Project title","subtitle":"What you are doing","author":"Who is doing it","date":"`r Sys.Date()`","output":{"omni::omni_html_memo":{"hypothesis":true}},"editor_options":{"chunk_output_type":"console","markdown":{"wrap":72}}},"headingText":"this generates bib for all packages","containsRefs":false,"markdown":"\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(fig.path='figs/',\n                      echo=FALSE, # change to TRUE if most code chunks should knit to report \n                      warning=FALSE, \n                      message=FALSE)\n```\n\n```{r packages, echo=FALSE}\nlibrary(tidyverse)\nlibrary(kableExtra)\nlibrary(knitr)\nlibrary(janitor)\nlibrary(omni)\nlibrary(stringr)\nlibrary(pdftools)\n\nknitr::write_bib(c(.packages(), \"bookdown\"), \"packages.bib\")\n\n```\n\n**Guidance for this template**\n\n\\* - \\* - \\*\n\nDear OMNI-ite, In using this template, please remember to use the [OMNI\nstye guide and best\npractices](https://omniinstitute.atlassian.net/wiki/spaces/Quant/pages/198673178/R+Syntax+Best+Practices)\nfor writing syntax and cleaning data.\n\nIf possible and relevant, arrange for someone to review your code using\nthe [code review\ntemplate](https://omniinstitute.atlassian.net/wiki/spaces/Quant/pages/504659969/R+Code+Review+Checklist+Template)\n(which can be loaded as a template from any project page in Confluence).\n\nThe next section, 'File Description', should be filled out and kept in\nthe document after knitting. It is important to clarify what the\ndocument does - what it takes in as inputs - what it produces - and any\nkey steps or caveats that future users might need to be aware of.\n\ndelete the text between the \\* - \\* - \\*\n\n\\* - \\* - \\*\n\n## File Description {.unnumbered}\n\nInputs: *what does this file take in as inputs? Perhaps excel files, the\nresults of a survey saved in excel, some clean data saved as an rds\nfile. Indicate any assumptions about the file like if it is supposed to\nbe cleaned, stored in a certain folder, have an extension in the file\nname after a certain date, etc*\n\nOutputs: *what does the file produce? is it a cleaned version of a\ndataset, is it a series of tables stored to an excel workbook? Is the\nknitted rmd the 'output', along with the tables and figures that will be\ngenerated here? Give a short description of what the intention of this\nfile is*\n\nProcess: *are there any key steps that need to happen within this file,\nthe major steps - if possible, list the major aspects of the script in a\nshort but clear outline*\n\nNotes or caveats: *are there additional things that should be noted\nabout the script? Perhaps it is run iteratively every few months or so,\nbut after the first few iterations the file structure of the input file\nchanged and some new code chunks had to be added below to adjust.\nPerhaps there is a section of the code that has to do an unusual or\nhighly specialized operation and some additional context could be\nhelpful.*\n\n```{r}\n# Load the PDF files\nfiles <- list.files(path = \"data\", pattern = \".pdf$\", full.names = TRUE)\n\n# Define keywords\nkeywords <- c(\"food\",\n              \"foods\",\n              \"food environment\", \n              \"food scarcity\",\n              \"food access\",\n              \"climate\",\n              \"omni\",\n              \"tornado\", \n              \"community\", \n              \"climate change\")\n\n# Initialize a matrix to store the word counts\nfile_length <- length(files)\nword_length <- length(keywords)\n\n# Pre-allocate the word_count matrix to store the counts\nword_count <- matrix(0, nrow = file_length, ncol = word_length)\ncolnames(word_count) <- keywords\nrownames(word_count) <- basename(files)  # Optionally, use file names as row names\n\n# Loop through the files and keywords\nfor (j in 1:file_length) {\n  \n  # Read and clean the PDF text for the current file\n  P1 <- pdftools::pdf_text(pdf = files[j]) %>%\n    str_to_lower() %>%\n    str_replace_all(\"\\n\", \"\") %>%\n    str_replace_all(\"[:digit:]\", \"\") %>%\n    str_replace_all(\"[:punct:]\", \"\") %>%\n    str_replace_all(\"\\\\s+\", \" \") %>% \n    str_trim()\n  \n  # Loop through the keywords\n  for (i in 1:word_length) {\n    \n    # Count occurrences of the keyword in the current file text\n    word_count[j, i] <- P1 %>%\n      str_count(keywords[i]) %>%\n      sum()\n  }\n}\n\nword_count %>%\n  as.data.frame() %>%\n  omni_table()\n\n```\n\n# Header 1\n\n## Sub header\n","srcMarkdownNoYaml":"\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(fig.path='figs/',\n                      echo=FALSE, # change to TRUE if most code chunks should knit to report \n                      warning=FALSE, \n                      message=FALSE)\n```\n\n```{r packages, echo=FALSE}\nlibrary(tidyverse)\nlibrary(kableExtra)\nlibrary(knitr)\nlibrary(janitor)\nlibrary(omni)\nlibrary(stringr)\nlibrary(pdftools)\n\n# this generates bib for all packages   \nknitr::write_bib(c(.packages(), \"bookdown\"), \"packages.bib\")\n\n```\n\n**Guidance for this template**\n\n\\* - \\* - \\*\n\nDear OMNI-ite, In using this template, please remember to use the [OMNI\nstye guide and best\npractices](https://omniinstitute.atlassian.net/wiki/spaces/Quant/pages/198673178/R+Syntax+Best+Practices)\nfor writing syntax and cleaning data.\n\nIf possible and relevant, arrange for someone to review your code using\nthe [code review\ntemplate](https://omniinstitute.atlassian.net/wiki/spaces/Quant/pages/504659969/R+Code+Review+Checklist+Template)\n(which can be loaded as a template from any project page in Confluence).\n\nThe next section, 'File Description', should be filled out and kept in\nthe document after knitting. It is important to clarify what the\ndocument does - what it takes in as inputs - what it produces - and any\nkey steps or caveats that future users might need to be aware of.\n\ndelete the text between the \\* - \\* - \\*\n\n\\* - \\* - \\*\n\n## File Description {.unnumbered}\n\nInputs: *what does this file take in as inputs? Perhaps excel files, the\nresults of a survey saved in excel, some clean data saved as an rds\nfile. Indicate any assumptions about the file like if it is supposed to\nbe cleaned, stored in a certain folder, have an extension in the file\nname after a certain date, etc*\n\nOutputs: *what does the file produce? is it a cleaned version of a\ndataset, is it a series of tables stored to an excel workbook? Is the\nknitted rmd the 'output', along with the tables and figures that will be\ngenerated here? Give a short description of what the intention of this\nfile is*\n\nProcess: *are there any key steps that need to happen within this file,\nthe major steps - if possible, list the major aspects of the script in a\nshort but clear outline*\n\nNotes or caveats: *are there additional things that should be noted\nabout the script? Perhaps it is run iteratively every few months or so,\nbut after the first few iterations the file structure of the input file\nchanged and some new code chunks had to be added below to adjust.\nPerhaps there is a section of the code that has to do an unusual or\nhighly specialized operation and some additional context could be\nhelpful.*\n\n```{r}\n# Load the PDF files\nfiles <- list.files(path = \"data\", pattern = \".pdf$\", full.names = TRUE)\n\n# Define keywords\nkeywords <- c(\"food\",\n              \"foods\",\n              \"food environment\", \n              \"food scarcity\",\n              \"food access\",\n              \"climate\",\n              \"omni\",\n              \"tornado\", \n              \"community\", \n              \"climate change\")\n\n# Initialize a matrix to store the word counts\nfile_length <- length(files)\nword_length <- length(keywords)\n\n# Pre-allocate the word_count matrix to store the counts\nword_count <- matrix(0, nrow = file_length, ncol = word_length)\ncolnames(word_count) <- keywords\nrownames(word_count) <- basename(files)  # Optionally, use file names as row names\n\n# Loop through the files and keywords\nfor (j in 1:file_length) {\n  \n  # Read and clean the PDF text for the current file\n  P1 <- pdftools::pdf_text(pdf = files[j]) %>%\n    str_to_lower() %>%\n    str_replace_all(\"\\n\", \"\") %>%\n    str_replace_all(\"[:digit:]\", \"\") %>%\n    str_replace_all(\"[:punct:]\", \"\") %>%\n    str_replace_all(\"\\\\s+\", \" \") %>% \n    str_trim()\n  \n  # Loop through the keywords\n  for (i in 1:word_length) {\n    \n    # Count occurrences of the keyword in the current file text\n    word_count[j, i] <- P1 %>%\n      str_count(keywords[i]) %>%\n      sum()\n  }\n}\n\nword_count %>%\n  as.data.frame() %>%\n  omni_table()\n\n```\n\n# Header 1\n\n## Sub header\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":false,"output":{"omni::omni_html_memo":{"hypothesis":true}},"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../styles.css"],"toc":true,"output-file":"environmental_text_practice.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.57","title":"Project title","subtitle":"What you are doing","author":"Who is doing it","date":"`r Sys.Date()`","editor_options":{"chunk_output_type":"console","markdown":{"wrap":72}}},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}